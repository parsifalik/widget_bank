# Программа для скрытия номера карты или счета
Эта программа написана на языке Python и предоставляет 
возможность пользователю скрыть номера карт и счетов, 
а также ведет логирование времени последних операций.
- карты которые принимает программа:

1)    Maestro 1596837868705199
2)    MasterCard 7158300734726758
3)    Visa Classic 6831982476737658
4)    Visa Platinum 8990922113665229
5)    Visa Gold 5999414228426353
6)    Visa 6131682476437698
7)    Счет 64686473678894779589

## Установка:
1) Клонируйте репозиторий:

git clone https://github.com/parsifalik/widget_bank.git

2) Установите зависимости:

`pip install -r requirements.txt`

## Использование

Запустите программу, введите номер карты или счета, 
и программа скроет часть номера, отображая только маскированные данные.

`python main.py`

    Пример вывода:
    
        Карта/счет и номер карты/счета: счет 8965 8965 8965 8965 8888
    Счет **8888
    
    Текущая дата 17.06.24
    
    Журнал задач:
      по статусу:
        [{'id': 41428829, 'state': 'EXECUTED', 'date': '2019-07-03T18:35:29.512364'}, {'id': 939719570, 'state': 'EXECUTED', 'date': '2018-06-30T02:08:58.425572'}]
        [{'id': 594226727, 'state': 'CANCELED', 'date': '2018-09-12T21:27:25.241689'}, {'id': 615064591, 'state': 'CANCELED', 'date': '2018-10-14T08:21:33.419441'}]
      по дате:
        [{'id': 41428829, 'state': 'EXECUTED', 'date': '2019-07-03T18:35:29.512364'}, {'id': 615064591, 'state': 'CANCELED', 'date': '2018-10-14T08:21:33.419441'}, 
        {'id': 594226727, 'state': 'CANCELED', 'date': '2018-09-12T21:27:25.241689'}, {'id': 939719570, 'state': 'EXECUTED', 'date': '2018-06-30T02:08:58.425572'}]

## Модули

    date.py
        Модуль date.py содержит функцию get_date(), 
        которая возвращает системную дату устройства в формате день.месяц.год.

---
    widget.py
    
        Модуль widget.py содержит функцию get_mask_card_and_mask_pay(card_and_pay), 
        которая принимает номер карты или счета и возвращает маскированные данные.
---

        processing.py
        
            Модуль processing.py содержит функции для фильтрации и сортировки логов операций:
        
                filter_by_state(list_dict, state): Фильтрует логи по статусу выполнения операций ("EXECUTED" или "CANCELED").
        
                sort_by_date(list_dict, sort): Сортирует логи по дате операций в порядке возрастания или убывания.

## Тестирование
Тесты для программы находятся в пакете `tests` и включают следующие проверки:

- Проверка функции скрытия номера карты или счета `test_widget.py`.
- Проверка фильтрации логов по статусу и дате`test_processing.py`.
- Проверка функции получения системной даты `test_date.py`
- в conftest находятся фикстуры для модуля processing

Для запуска тестов используйте:
`pytest`
